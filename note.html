<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <meta http-equiv="X-UA-Compatible" content="ie=edge">
     <title>Document</title>
</head>

<body id="body">
     <div>
          全选：<input type="checkbox" id="all">
     </div>

     <div id="b">
          <input type="checkbox" />
          <input type="checkbox" />
          <input type="checkbox" />
          <input type="checkbox" />
          <input type="checkbox" />
     </div>
     <div id="box"></div>
     <script>
          /*
     forEach(函数,修改this指向) 循环数组的
     函数：
          function fn(数组的每一项,数据的索引,整个数组){
               console.log(数组的每一项,数据的索引,整个数组)
          }
          fn(1,2,3)

          function fn(a){
               console.log(a)
          }
          fn(1,2,3)
     */
          // let ary = [1,2,3,4,5,6]
          // console.log(ary.forEach(function(item,i,all){
          //      console.log(item,i,all);
          //      console.log(this);//window
          //      return 1 // return为undefined 
          // },'修改this'));

          /* function forEach(ary,callback){
               for(let i=0;i<ary.length;i++){
                    callback(ary[i],i,ary)
               }
          }
          
          forEach(ary,function(a,b,c){
               console.log(a,b,c);
               console.log(this);
          }) */

          // map(回调函数，改变this指向)

          /* let newAry = ary.map(function(a,b,c){
               return 1;
          })
          console.log(newAry); */

          /* 
          some(function(){},修改this指向)
               查看数组中的每个成员是否有意向符合条件的，只要有一个就符合就返回true，如果全都不符合就返回false
           */
          /*    let b = ary.some(function(item){
                  return item =>19;
             })
             console.log(b); */

          /* 
          every(回调函数,修改this指向)
              查看数组中的每个成员是否都符合条件，都符合就返回true，否则false
           */

          /* let a = ary.every(function(item){
               return !! item === true
          })
          console.log(a); */

          //获取b下面所有的input
          const checkeds = document.querySelectorAll('#b input');
          //   声明一个数组，为了存每个checkbox的值
          let aryChecked = [];
          //   循环所有checkeds
          for (let i = 0; i < checkeds.length; i++) {
               //   给数组的每项添加一个false
               aryChecked[i] = false;
               checkeds[i].onclick = function () {
                    //当点击的时候把checkbox对应的布尔值存到数组中
                    aryChecked[i] = this.checked;
                    //查看数组中的布尔值是否都为true
                    //最后把结果赋值给全选的checked
                    all.checked = aryChecked.every(item => item);
               }
          }

          /*
             filter(回调函数,修改this)
             回调函数(数组的每一项,索引,整个数组)
             过滤:把数组中符合条件的数据放到一个新数组中,并且返回这个新数组
          */
          /*       let arr = [1,2,1,1]

                let arr2 = [];
                for(let i =0;i<arr.length;i++){
                     if(arr[i] ===1){
                          arr2.push(arr[i])
                     }
                }
                console.log(arr.filter(item=>item===1)); */
          /*
          find 查找类
             find(函数,修改this)
             查找回调函数中.符合规则的数据,找不到undefined

          findIndex
             查找回调函数中,符合规则了数据,找不到为-1
          */

          // 找到数组中的某个对象,看看那个对象的name符合条件,并且把这个数据找出来

          /*  let ary = [
                {
                     id:0,
                     name:'张三'
                },
                {
                     id:1,
                     name:'李四'
                },
                {
                     id:2,
                     name:'王五'
                },
                {
                     id:3,
                     name:'赵六'
                }
           ];
           function find(ary,callback){
                for(let i =0;i<ary.length;i++){
                     let b =callback(ary[i],i,ary);
                     if(b){
                          return ary[i]
                     }
                }
                return null 
           }
           let f = find(ary,function(item){
                return item.name === '赵炎'
           })

           console.log(f); */

          /*
          flat 数组扁平化操作

             Array.isArray(数据)
          */
          /*   let ary = [1,2,3,[4,5,6]]
            let ary2 =[];
            function flat(ary){
                 for(let i=0;i<ary.length;i++){
                      if(!!ary[i].push){
                           flat(ary[i])
                      }else{
                           ary2.push(ary[i])
                      }
                 }
            }
            flat(ary); */
          //   console.log(ary2);

          //   console.log(ary.flat(Infinity));
          /*
          除了null和undefined别的简单类型,添加自定义的属性和方法都是undefined

          */
          // Array.isArray(数据)  查看参数是否为数组，是就为true否则false

          // console.log(Array.isArray(ary)); // true

          /*
          Math 存着数学方法和属性
          */
          console.log(Math.PI); //3.1415926
          console.log(Math.ceil(1.032456)); //向下取整 小数直接进一 (无论满足四舍五入)
          console.log(Math.floor(1.1)); //向下取整 
          console.log(Math.round(4.5)); //5 四舍五入
          console.log(Math.random()); //0-1之间的无限不循环小数(随机数)
          console.log(Math.abs(1)); //取绝对值
          console.log(Math.max(1, 2, 3, 4)); //取最大值
          // let ary = [1,2,3,4];
          // console.log(Math.max(...ary));
          // console.log(Math.min(1,2,3,4));//取最小值
          console.log(Math.pow(1, 2)); //取幂

          /*   function random(n,m){
                 return Math.round(Math.random()*(m-n)+n);
            }

            //获取随机不要重复的验证码
            
            let str = '1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM';

           let temp = ''; 
           for(let i=0;i<4;i++){
               temp += str[random(0,str.length-1)];
           }
           
           body.innerHTML = temp; */


          /*
          Date 记录计算机当前的时间(本地) 是不安全的
          new Date(传入一个时间)
          */

          let date = new Date;

          console.log(date.getFullYear); //获取年
          console.log(date.getMonth); //获取月
          console.log(date.getDate); //获取日
          console.log(date.getDay); //获取日
          console.log(date.getHours); //获取小时
          console.log(date.getMinutes); //获取分钟
          console.log(date.getSeconds); //获取秒

          // 时间戳   1970年到现在的时间(时间戳是指格林威治时间1970年01月01日00时00分00秒(北京时间1970年01月01日08时00分00秒)起至现在的总秒数。)


          /*
          定时器:
           setTimeout 到了指定时间之后执行函数(只执行一次)
           setTimeout(回调函数,间隔多少时间(毫秒),回调函数的实参)
          
          关闭定时器:
           clearTimeout(定时器的返回值,编号)

           定时器
            setInterval  只要一到指定时间就执行一次函数(重复多次)
            setInterval(回调函数,间隔多少时间(毫秒),回调函数的实参)

           关闭定时器:
            clearTimeout(定时器的返回值,编号)
            clearInterval(定时器的返回值,编号)
          */

 /*          function fn() {
               let d = new Date;
               let str = d.getUTCFullYear() + d.getFullYear() + '年' + (d.getMonth() + 1) + '月' +
                    d.getDate() + '日 ' + d.getHours() + '时' + d.getMinutes() + '分' +
                    d.getSeconds() + '秒';
                    box.innerHtML =str;
          }
          fn();
          //执行定时器中的函数,是一秒以后,但是一秒之前页面中是不会显示的
          //所以要在定时器调用之前执行的一次fn这个函数
          setInterval(fn,1000) */
          /*
               现在的时间:new Date
               将来的时间:new Date('2019 10 30 10:20  ')
          */
          
          // let d = new Date(2019,9,25,20,30)     //年月日时分秒，唯一要注意的是月份要比当前月份少一

          function fn() {
               let d = new Date('2019 10 26 20:40')
               let d2 = new Date; //现在的时间
               // console.log(d);

               let t = Math.floor((d - d2) / 1000)
               let dd = Math.floor(t / 86400)
               t %= 86400;
               let hours = Math.floor(t / 3600);
               t %= 3600;
               let min = Math.floor(t / 60)
               t %= 60
               // console.log(dd + '天' + hours + '时' + min + '分' + t + '秒');
               box.innerHTML = dd + '天' + hours + '时' + min + '分' + t + '秒'
          }
          fn()
          setInterval(fn, 1000  );


          /*     let mi = Math.floor(t / 60)
              t = t %= 60
              console.log(mi+'分'+t+'秒'); */

     </script>
</body>

</html>